{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.ts"],"sourcesContent":["import { authMiddleware } from '@clerk/nextjs/server';\r\nimport { NextResponse } from 'next/server';\r\n\r\nexport default authMiddleware({\r\n  // Rutas públicas que no requieren autenticación\r\n  publicRoutes: [\r\n    '/',\r\n  ],\r\n  \r\n  // Rutas que siempre serán protegidas\r\n  // PARA IR AGREGANDO OOOOOOJOOOOOO\r\n  ignoredRoutes: [\r\n    '/app/dashboard(.*)',\r\n    '/profile(.*)',\r\n    '/modules(.*)',\r\n    '/admin(.*)',\r\n  ],\r\n  \r\n  // Función para manejar redirecciones personalizadas\r\n  afterAuth(auth, req) {\r\n    // Si el usuario está autenticado y trata de acceder a una ruta pública\r\n    if (auth.userId && auth.isPublicRoute) {\r\n      // Redirigir desde la página principal o auth pages al dashboard\r\n      if (req.nextUrl.pathname === '/' || \r\n          req.nextUrl.pathname.startsWith('/sign-in') || \r\n          req.nextUrl.pathname.startsWith('/sign-up')) {\r\n        return NextResponse.redirect(new URL('/dashboard', req.url));\r\n      }\r\n    }\r\n    \r\n    // Si la ruta no es pública y el usuario no está autenticado\r\n    if (!auth.userId && !auth.isPublicRoute) {\r\n      // Redirigir al sign-in\r\n      return NextResponse.redirect(new URL('/sign-in', req.url));\r\n    }\r\n    \r\n    // Permitir el acceso en otros casos\r\n    return NextResponse.next();\r\n  }\r\n});\r\n\r\nexport const config = {\r\n  matcher: [\r\n    '/((?!.*\\\\..*|_next).*)', // Excluye archivos estáticos y rutas _next\r\n    '/',\r\n    '/(api|trpc)(.*)',\r\n  ],\r\n};"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;uCAEe,CAAA,GAAA,oLAAA,CAAA,iBAAc,AAAD,EAAE;IAC5B,gDAAgD;IAChD,cAAc;QACZ;KACD;IAED,qCAAqC;IACrC,kCAAkC;IAClC,eAAe;QACb;QACA;QACA;QACA;KACD;IAED,oDAAoD;IACpD,WAAU,IAAI,EAAE,GAAG;QACjB,uEAAuE;QACvE,IAAI,KAAK,MAAM,IAAI,KAAK,aAAa,EAAE;YACrC,gEAAgE;YAChE,IAAI,IAAI,OAAO,CAAC,QAAQ,KAAK,OACzB,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,eAChC,IAAI,OAAO,CAAC,QAAQ,CAAC,UAAU,CAAC,aAAa;gBAC/C,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,cAAc,IAAI,GAAG;YAC5D;QACF;QAEA,4DAA4D;QAC5D,IAAI,CAAC,KAAK,MAAM,IAAI,CAAC,KAAK,aAAa,EAAE;YACvC,uBAAuB;YACvB,OAAO,6LAAA,CAAA,eAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,YAAY,IAAI,GAAG;QAC1D;QAEA,oCAAoC;QACpC,OAAO,6LAAA,CAAA,eAAY,CAAC,IAAI;IAC1B;AACF;AAEO,MAAM,SAAS;IACpB,SAAS;QACP;QACA;QACA;KACD;AACH"}}]
}